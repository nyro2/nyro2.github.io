---
layout: default
title: SICP
---
### SICP 005
#### 問題1.14
　図は書けたが計算量が……。これも1.15同様、あとで解答を参照しつつ復習予定。

#### 問題1.15a
　以下のように改変し、手続きの作用回数を計測する。  
```
(define (cube x)(* x x x))
(define (p x)
  (display "exec p\n")
  (- (* 3 x) (* 4 (cube x))))
(define (sine angle)
  (if (not (> (abs angle) 0.1))
    angle
    (begin
      (display "exec sine\n")
      (p (sine (/ angle 3.0))))))

>exec sine
>exec sine
>exec sine
>exec sine
>exec sine
>exec p
>exec p
>exec p
>exec p
>exec p
```
　pが作用するのは5回。  
　本当はtraceとかいうものを使うらしい。

#### 問題1.15b
　素でわからん……。  
　解答を見た。angle>0.1の際、sineを一度呼ぶことでangleは1/3になるので、angleが1になるのに必要な呼び出し回数はlog3x回。これは代数的に簡単に導ける。  
　そこからangleが0.1未満になるには、更に3回の作用が必要。よって、任意のxに対してlog3x+3回の作用で再帰プロセスは終了し、その数だけ手続きpがスタックに積まれる。むろんsineの作用回数は整数値を取るため、実際にはこの値に最も近い整数値の個数となる。  
　sine関数の使用するスペースはpの呼び出し回数に依存し、またangleの値が3倍になるたびpの呼び出し回数は1回ずつ増える。ここから、sine関数の使用するスペースはΘ(logx)。  
　再帰的呼び出しが終了した後、スタックされたpの呼び出しには常に固定のステップ数を消費する。そのため、増加の程度は使用したスペース数の整数倍をとり、よって定義よりΘ(logx)。

